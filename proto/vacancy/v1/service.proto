syntax = "proto3";

package vacancy.v1;

option go_package = "github.com/StudJobs/proto_srtucture/gen/go/vacancy/v1";

// for Python
//import "vacancy/v1/types.proto";
//import "common/v1/types.proto";

// for Golang
import "proto/vacancy/v1/types.proto";
import "proto/common/v1/types.proto";

service VacancyService {
  // Создать вакансию
  rpc NewVacancy(NewVacancyRequest) returns (Vacancy);

  // Обновить вакансию
  rpc UpdateVacancy(UpdateVacancyRequest) returns (Vacancy);

  // Удалить вакансию
  rpc DeleteVacancy(DeleteVacancyRequest) returns (common.v1.Empty);

  // Получить вакансию
  rpc GetVacancy(GetVacancyRequest) returns (Vacancy);

  // Получить все вакансии
  rpc GetAllVacancies(GetAllVacanciesRequest) returns (VacancyList);
}

message NewVacancyRequest {
  Vacancy vacancy = 1;
}

message UpdateVacancyRequest {
  string id = 1; // UUID вакансии
  Vacancy vacancy = 2;
}

message DeleteVacancyRequest {
  string id = 1; // UUID вакансии
}

message GetVacancyRequest {
  string id = 1; // UUID вакансии
}

message GetAllVacanciesRequest {
  common.v1.Pagination pagination = 1;
  string company_id = 2; // Опциональный фильтр по компании
  string position_status = 3; // Опциональный фильтр по статусу позиции
}