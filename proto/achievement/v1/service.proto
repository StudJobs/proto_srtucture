syntax = "proto3";

package achievement.v1;

option go_package = "github.com/StudJobs/proto_srtucture/gen/go/achievement/v1";

import "proto/achievement/v1/types.proto";
import "proto/common/v1/types.proto";

service AchievementService {
  // Получить все достижения пользователя (метаданные)
  rpc GetAllAchievements(GetAllAchievementsRequest) returns (AchievementList);

  // Получить URL для скачивания достижения
  rpc GetAchievementDownloadUrl(GetAchievementRequest) returns (AchievementUrl);

  // Получить URL для загрузки достижения
  rpc GetAchievementUploadUrl(GetAchievementUploadRequest) returns (AchievementUrl);

  // Добавить метаданные достижения
  rpc AddAchievementMeta(AddAchievementMetaRequest) returns (common.v1.Empty);

  // Удалить достижение
  rpc DeleteAchievement(DeleteAchievementRequest) returns (common.v1.Empty);
}

message GetAllAchievementsRequest {
  string user_uuid = 1;
}

message GetAchievementRequest {
  string user_uuid = 1;
  string achievement_name = 2;
}

message GetAchievementUploadRequest {
  string user_uuid = 1;
  string achievement_name = 2;
  string file_name = 3;
  string file_type = 4;
}

message AddAchievementMetaRequest {
  AchievementMeta meta = 1;
}

message DeleteAchievementRequest {
  string user_uuid = 1;
  string achievement_name = 2;
}