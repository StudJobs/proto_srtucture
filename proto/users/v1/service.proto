syntax = "proto3";

package users.v1;

option go_package = "github.com/StudJobs/proto_srtucture/gen/go/users/v1";

import "proto/users/v1/types.proto";
import "proto/common/v1/types.proto";

service UsersService {
  // Создать профиль
  rpc NewProfile(NewProfileRequest) returns (Profile);

  // Обновить профиль
  rpc UpdateProfile(UpdateProfileRequest) returns (Profile);

  // Удалить профиль
  rpc DeleteProfile(DeleteProfileRequest) returns (common.v1.Empty);

  // Получить профиль
  rpc GetProfile(GetProfileRequest) returns (Profile);

  // Получить все профили
  rpc GetAllProfiles(GetAllProfilesRequest) returns (ProfileList);
}

message NewProfileRequest {
  Profile profile = 1;
}

message UpdateProfileRequest {
  string id = 1; // UUID профиля
  Profile profile = 2;
}

message DeleteProfileRequest {
  string id = 1; // UUID профиля
}

message GetProfileRequest {
  string id = 1; // UUID профиля
}

message GetAllProfilesRequest {
  common.v1.Pagination pagination = 1;
  string profession_category = 2; // Опциональный фильтр по категории
}